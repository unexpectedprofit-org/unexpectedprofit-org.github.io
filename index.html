<!doctype html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>TripPocket</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width">
        <link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css">
        <link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-theme.min.css">
        <style>
            .cover {
                background: url(images/cover.jpg) no-repeat;
                background-size: cover;
                padding-top: 200px;
                padding-bottom: 130px;
            }

            .search-form {
                max-width: 800px;
                margin-left: auto;
                margin-right: auto;
                background: rgba(100, 100, 100, 0.6);
                padding: 5px;
                border-radius: 3px;
            }

            .col-sm-5, .col-sm-4, .col-sm-2, .col-sm-1 {
                padding-left: 3px;
                padding-right: 3px;
            }

            .row {
                margin-left: 0px;
                margin-right: 10px;
            }

            .centered {
                margin-left: auto;
                margin-right: auto;
                max-width: 800px;
            }

            .main-quote {
                color: #fff;
                font-size: 1.2em;
                text-shadow: 0 0px 5px rgba(0, 0, 0, 0.8);
            }

            .main-quote cite {
                color: #aaa;
            }

        </style>
    </head>
    <body ng-app="siteApp" ng-controller="MainCtrl">
        <nav class="navbar navbar-fixed-top" role="navigation">
            <div class="navbar-header">
                <a class="navbar-brand" href="#">Trip<span style="color: #222">Pocket</span></a>
            </div>
        </nav>

        <div class="jumbotron cover">
            <div clas="container">
                <div class="centered main-quote">
                    <p ng-show="trip.budgetKeyword" style="font-size: 1.5em">The Best vacation for your budget</p>
                    <p ng-hide="trip.budgetKeyword" style="font-size: 2em">Find vacation ideas</p>
                </div>

                <form class="form-inline form-search search-form" role="form">
                    <div class="row">
                        <div class="form-group col-sm-5">
                            <input ng-model="trip.from" maxlength="100" placeholder="Where are you leaving from?"
                                   type="text" class="form-control" id="from"
                                   bs-typeahead="autocomplete"/>

                        </div>

                        <div class="col-sm-4">

                            <select name="weeks" class="form-control" ng-model="trip.budget">
                                <option value="">What is your budget?</option>
                                <option value="1000">$1,000</option>
                                <option value="2000">$2,000</option>
                                <option value="5000">$5,000</option>
                                <option value="10000">$10,000</option>
                                <option value="15000">$15,000</option>
                            </select>
                        </div>

                        <div class="input-g2oup col-sm-2" >
                            <select name="travelers" class="form-control"  ng-model="trip.travelers" ng-init="trip.travelers = 2 ">
                                <option value="1">1 traveler</option>
                                <option value="2">2 travelers</option>
                                <option value="3">3 travelers</option>
                                <option value="4">4 travelers</option>
                            </select>
                        </div>

                        <div class="col-sm-1">
                            <button type="submit" class="btn btn-success" data-toggle="modal" href="#myModal">Search</button>
                        </div>

                    </div>
                </form>
            </div>
        </div>

        <footer>
            <!--Uncomment to debug-->
            <!--<pre>{{trip | json}}</pre>-->
            <!--Uncomment to debug-->

            <div class="">
                <div class="container centered">
                    <blockquote class="pull-right">
                        <p>&#8220;Sail away from the safe harbor. Catch the trade winds in your sails. Explore. Dream. Discover.&#8221;&nbsp;&nbsp;</p>
                        <small><cite title="Source Title">Mark Twain</cite></small>
                    </blockquote>
                </div>
            </div>
        </footer>

        <!-- Modal -->
        <div class="modal fade" id="myModal">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h4 class="modal-title">Be part of our private test</h4>
                    </div>
                    <div class="modal-body">
                      <p>Soon we're going to be launching the site with amazing travel options for you. If you want to recieve an invitation to our private test, please complete the form below. Thanks!</p>
                      <form class="signin form-inline">
                        <div class="form-group">
                          <input type="email" class="form-control" placeholder="Email" ng-model="trip.email" size="30">
                        </div>
                        <button type="submit" class="btn" data-dismiss="modal">Let me be part of the club</button>
                      </form>
                    </div>
                </div>
                <!-- /.modal-content -->
            </div>
            <!-- /.modal-dialog -->
        </div>
        <!-- /.modal -->

        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','http:////www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-42437505-3', 'trippocket.com');
            ga('send', 'pageview');
        </script>


        <script src="http://ajax.googleapis.com/ajax/libs/jquery/2.0.2/jquery.min.js"></script>
        <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.0.7/angular.min.js"></script>
        <script src="http://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
        <script src="http://cdnjs.cloudflare.com/ajax/libs/angular-strap/0.7.4/angular-strap.min.js"></script>

        <script>
            var app = angular.module("siteApp", ['firebase', '$strap.directives']);
            app.controller("MainCtrl", function ($scope, angularFire, $http) {
                $scope.trip = {};
                $scope.trip.budgetKeyword = Math.random() > 0.5;
                $scope.autocomplete = function (query, callback) {
                    $http.jsonp('http://gd.geobytes.com/AutoCompleteCity', {
                        params: {
                            callback: 'JSON_CALLBACK',
                            filter: 'US',
                            q: query
                        }
                    }).success(function (cities) {
                        callback(cities);
                    });
                };
                var url = new Firebase("https://sesteva-budget.firebaseIO.com/budget/search/" + new Date());
                return angularFire(url, $scope, "trip");
            });
        </script>

        <script src="http://cdn.firebase.com/v0/firebase.js"></script>
        <script src="http://cdn.firebase.com/libs/angularfire/0.3.0/angularfire.min.js"></script>
    </body>
</html>
